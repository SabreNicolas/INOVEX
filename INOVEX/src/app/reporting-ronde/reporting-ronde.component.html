<div>
    <div>
        <!--date-->
        <form #f="ngForm">
            <div class="form-group">
                <h5><label>Jour :</label></h5>
                <div class="row">
                    <div class="col-lg-3">
                        <input type="date" id="dateDeb" class="form-control" placeholder="Date de début" name="dateDeb" ngModel>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <button class="btn btn-primary" type="submit" (click)="setPeriod(f)"><img src="assets/refresh.png"></button>
                            <button style="margin-left: 0.5em" class="btn btn-warning" (click)="setYesterday(f)">Hier</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!--table des rondes-->
    <div class="table-style">
        <table class="table table-hover tableFixed">
            <thead>
            <tr class="table-secondary">
                <th scope="col">Date et Heure de Début</th>
                <th scope="col">Quart</th>
                <th scope="col">Commentaire</th>
                <th scope="col">Image</th>
                <th style="text-align: center" scope="col">Terminé ?</th>
                <th scope="col">Auteur de la ronde</th>
                <th scope="col">Four 1 en Fonctionnement ?</th>
                <th scope="col">Four 2 en Fonctionnement ?</th>
                <th></th>
            </tr>
            </thead>
            <tbody *ngFor="let r of listRonde">
            <tr class="table-light" [ngSwitch]="r.quart" (click)="getReporting(r.Id)">
                <td>{{r.dateHeure}}</td>
                <td *ngSwitchCase=1>Matin</td>
                <td *ngSwitchCase=2>Après-midi</td>
                <td *ngSwitchCase=3>Nuit</td>
                <td>{{r.commentaire}}</td>
                <td (click)="downloadImage(r)">{{r.image}}</td>
                <td style="text-align: center" *ngIf="r.isFinished"><i style="color: green" class="fa fa-check" aria-hidden="true"></i></td>
                <td style="text-align: center" *ngIf="!r.isFinished">
                    <button id="closeRonde" (click)="clotureRonde(r.Id)" class="btn btn btn-outline-danger">
                        <i style="color: red" class="fa fa-times" aria-hidden="true"></i>
                    </button>
                </td>
                <td>{{r.Prenom}} {{r.Nom}}</td>
                <td style="text-align: center" *ngIf="r.fonctFour1 === 1"><i style="color: green" class="fa fa-check" aria-hidden="true"></i></td>
                <td style="text-align: center" *ngIf="r.fonctFour1 === 0"><i style="color: red" class="fa fa-times" aria-hidden="true"></i></td>
                <td style="text-align: center" *ngIf="r.fonctFour2 === 1"><i style="color: green" class="fa fa-check" aria-hidden="true"></i></td>
                <td style="text-align: center" *ngIf="r.fonctFour2 === 0"><i style="color: red" class="fa fa-times" aria-hidden="true"></i></td>
                <td>
                    <button class="btn btn-light" (click)="deleteRonde(r.Id)">
                        <i class="fa fa-trash-o" aria-hidden="true"></i>
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>



<div *ngIf="listReporting.length > 0">
    <!--table du reporting de la ronde-->
    <div class="table-style">
        <table class="table table-hover tableFixed">
            <thead>
            <tr class="table-secondary">
                <th scope="col">Zone de contrôle</th>
                <th scope="col">Element de contrôle</th>
                <th scope="col">Valeur</th>
                <th scope="col">Mode Régulateur</th>
                <th></th>
            </tr>
            </thead>
            <tbody *ngFor="let r of listReporting">
            <tr class="table-light" [ngStyle]="{'color': (r.value=='') ? 'red' : 'green'}">
                <td style="color: #044daa"><strong>{{r.nomZone}}</strong></td>
                <td><strong>{{r.nom}}</strong></td>
                <td>{{r.value}}</td>
                <td>{{ r.modeRegulateur == 'undefined' ? '/' : r.modeRegulateur }}</td>
                <td>
                    <button class="btn btn-light" (click)="updateValueElement(r)">
                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    </button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>